.SUFFIXES: .el .elc

XEMACS=xemacs
#XEMACS=c:/PROGRA~1/xemacs/XEMACS~1.19/I586-P~1/xemacs.exe

.el.elc:
	$(XEMACS) -batch -q -f batch-byte-compile $<

ELCS = 	frame-utils.elc introspector.elc


all:	$(ELCS) auto-autoloads.el custom-load.el

auto-autoloads.el: $(ELCS)
	rm -f auto-autoloads.el
	$(XEMACS) -batch -q -no-site-file -l autoload -f batch-update-directory .
	$(XEMACS) -batch -q -f batch-byte-compile auto-autoloads.el

custom-load.el: $(ELCS)
	$(XEMACS) -batch -vanilla -l cus-dep -f Custom-make-dependencies .
	$(XEMACS) -batch -vanilla -f batch-byte-compile custom-load.el

tags:
	etags *.el

clean:
	rm -f *.elc auto-autoloads.el custom-load.el TAGS
