.SUFFIXES: .el .elc

.el.elc:
	xemacs -batch -q -f batch-byte-compile $<

ELCS =  backup.elc\
	browse-kill-ring.elc\
	calc.elc\
	comics.elc\
	ddk-setenv.elc\
	dired-extras.elc\
	filter.elc\
	find-file.elc\
	font-lock-extras.elc\
	gopher.elc\
	greedy-delete.elc\
	h2t.elc\
	http.elc\
	intellimouse.elc\
	libc-mode.elc\
	lxr.elc\
	mpg.elc\
	slashdot.elc\
	smerge.elc\
	source-safe.elc\
	svn.elc\
	trim.elc\
	vc-ediff.elc\
	vm-opera.elc\
	ws-trim.elc\

#	vm-vcard.elc\

all:	$(ELCS) auto-autoloads.el

auto-autoloads.el: $(ELCS)
	rm -f auto-autoloads.el
	xemacs -batch -q -no-site-file -l autoload -f batch-update-directory .
	xemacs -batch -q -f batch-byte-compile auto-autoloads.el

tags:
	etags *.el

clean:
	rm -f *.elc auto-autoloads.el TAGS
